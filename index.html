<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>Bower Gulp your Node Sass - DrupalCorn Camp 2016</title>

		<meta name="description" content="A guide to project management for site builders, developers, and themers with little to no project management training">
		<meta name="author" content="Genevieve Johnson">

		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/drupalcorn-camp.css" id="theme">

    <!-- Font Awesome icons -->
    <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">

		<!-- Code syntax highlighting -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>

		<div class="reveal">

            <div class="footer">
                <div class="branding--logo">
                    <span class="logo__image"><img src="lib/image/content/DrupalCorn_logo.png" alt="DrupalCorn Camp logo" height="55px" /></span>
                    <p class="logo__site-name">#DrupalCorn</p>
                </div>
                <div class="session--info">
                    <p class="session__title">Bower Gulp your Node Sasss<span class="seperator">&nbsp;/&nbsp;</span></p>
                    <p class="session__presenter">Adam Delaney</p>
                </div>
            </div>

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">
          <section>
              <h1>Bower Gulp your Node Sass</h1>
              <h5><em>A practical guide to front end development tools</em></h5>
              <small>DrupalCorn Camp 2016</small>
              <p class="small">https://github.com/adamdelaney/drupalcorn_2016_presentation</p>
          </section>

          <section>
              <h1>Adam Delaney</h1>
              <h3><i class="fa fa-drupal" style="font-family:FontAwesome; font-style: normal;"></i> adam-delaney</h3>
              <p><img alt="The University of Iowa" src="lib/image/content/domewordsingle__convertedwhite.png" style="border:none; background: none; box-shadow: none; margin: 0; max-width: 500px;" /></p>
          </section>



          <section>
            <h3>In the begining there was</h3>
            <ul>
              <li>HTML</li>
              <li>CSS</li>
              <li>JS</li>
            </ul>
            <h3>... and it was good</h3>
          </section>

          <section>
            <h3>The web is currently more complex than ever before</h3>
            <ul class="small">
              <li>Javascript Libraries</li>
              <li>Front-end Frameworks</li>
              <li>Web Application Frameworks</li>
              <li>Task Runners</li>
              <li>Package Managers</li>
              <li>Languages and Platforms</li>
              <li>Databases</li>
              <li>CSS Preprocessors</li>
              <li>Text, Code and Integrated Development Editors</li>
              <li>Icon and Font Libraries</li>
              <li>Git Clients and Services</li>
              <li>Development Environments</li>
              <li>Collaboration and Project Management Tools</li>
            </ul>
            <h3>Kind of makes you feel like...</h3>
          </section>

          <section>
            <h3>This</h3>
            <img src="lib/image/dc16/george-costanza.jpg" />
          </section>

          <section>
            <h3 class="seperator">Why do we need frontend tools?</h3>
            <ul>
              <li>Coordinates and ensures consistency between different enviornments.</li>
              <li>Coordinates and ensures consistency between developers.</li>
              <li>Provides a way to keep track of projects and their versions</li>
              <li>Provides ways of managing those projects and their dependencies</li>
              <li>Provides the ability to automate tasks.</li>
            </ul>
          </section>

          <section>
            <h3>So what are we doing today...</h3>
            <p>Building an omelet</p>
            <img src="lib/image/dc16/omelet.jpg" width="70%" />
          </section>

          <section>
            <section>
              <div class="seperator">
                <h2 class="inline">Node.js</h2>
                <p class="inline small"> - The kitchen supply store</p>
              </div>
              <img src="lib/image/dc16/kitchen-supply.jpg" width="60%" />
            </section>

            <section>
              <h6>Node.js continued...</h6>
              <h2 class="seperator">What is node.js?</h2>
              <ul>
                <li>Open Source and cross development platform</li>
                <li>Built on Google's V8 javascript engine (fast)</li>
                <li>Runs Servicer side</li>
                <li><a href="https://nodejs.org/en/">https://nodejs.org/en/</a></li>
              </ul>
            </section>

            <section>
              <h6>Node.js continued...</h6>
              <h2 class="seperator">2 Installation Methods</h2>
              <ol>
                <li>
                  <h4>Download and install the package</h4>
                  <ul>
                    <li><a href="https://nodejs.org/en/">https://nodejs.org/en/<a></li>
                  </ul>
                </li>
                <li>
                  <h4>Use nvm to install</h4>
                  <ul>
                    <li>Used to manage mulitple node environments</li>
                    <li class="small"><a href="https://github.com/creationix/nvm/blob/master/README.markdown">https://github.com/creationix/nvm/blob/master/README.markdown</a></li>
                  </ul>
                </li>
              </ol>
            </section>
          </section>

          <section>
            <section>
              <div class="seperator">
                <h2 class="inline">npm</h2>
                <p class="inline small"> - A trip to the kitchen supply store</p>
              </div>
              <img src="lib/image/dc16/car-trip.jpg" width="60%" />
            </section>

            <section>
              <h6>npm continued...</h6>
              <h2 class="seperator">What is npm?</h2>
              <ul class="small">
                <li>Package manager for node.js</li>
                <li>Included with node.js</li>
                <li>Packages can be installed globally by passing the --global flag and installs packages in your configured path for global node module
                  <ul>
                    <li>
                      <pre>npm install {project} â€“-global</pre>
                    </li>
                  </ul>
                </li>
                <li>Packages can be installed locally and creates a node_modules
                  <ul>
                    <li>
                      <pre>npm install {project}</pre>
                    </li>
                  </ul>
                </li>
                <li><a href="https://docs.npmjs.com/">https://docs.npmjs.com/</a></li>
              </ul>
            </section>
          </section>

          <section>
            <section>
              <div class="seperator">
                <h2 class="inline">package.json</h2>
                <p class="inline small"> - A shopping list for the kitchen supply store</p>
              </div>
              <img src="lib/image/dc16/shopping-list.jpg" width="60%" />
            </section>

            <section>
              <h6>package.json continued...</h6>
              <h2 class="seperator">What is package.json?</h2>
              <ul class="small">
                <li>A list of node.js modules to be installed</li>
                <li>Thousands of node.js modules for all kinds of things like, Sass, CSS and JS linting, CSS and JS optimization, Image optimization, CSS auto prefixing, and much more</li>
                <li>When npm runs it will install the modules as well as any dependencies it may have</li>
                <li>Creates a node_modules folder with all of the modules and dependenceis</li>
                <li>Uses semantic versioning: <a href="https://docs.npmjs.com/misc/semver">https://docs.npmjs.com/misc/semver</a></li>
                <li>Different dependency types: dependencies, devDependencies, bundleDependencies
                  <ul>
                    <li>Dependencies: required to run your application </li>
                    <li>DevDependencies: only required develop your application</li>
                  </ul>
                </li>
                <li class="tip">TIP: once your modules have downloaded, add node_modules to your .gitignore.</li>
                <li><a href="ttps://docs.npmjs.com/files/package.json">https://docs.npmjs.com/files/package.json</a></li>
              </ul>
            </section>

            <section>
              <h6>package.json continued...</h6>
              <h2 class="seperator">Example of a package.json file.</h2>
              <pre>
                {
                  "name": "subtheme_radix",
                  "description": "A theme based on Radix.",
                  "private": true,
                  "scripts": {
                    "setup": "npm install && bower install",
                    "postinstall": "find node_modules/ -name '*.info' -type f -delete"
                  },
                  "devDependencies": {
                    "imagemin-pngcrush": "~4.1.0",
                    "node-sass": "^3.4.1",
                    "gulp": "~3.9.0",
                    "gulp-autoprefixer": "^3.1.0",
                    "gulp-concat": "^2.6.0",
                    "gulp-imagemin": "~2.2.1",
                    "gulp-notify": "^2.2.0",
                    "gulp-plumber": "~1.0.1",
                    "gulp-rename": "^1.2.2",
                    "gulp-sass": "~2.0.1",
                    "gulp-sass-glob": "0.0.2",
                    "gulp-shell": "~0.4.1",
                    "gulp-sourcemaps": "^1.6.0",
                    "gulp-shrinkwrap": "^2.0.0",
                    "gulp-uglify": "^1.5.1",
                    "gulp-scss-lint": "~0.3.9",
                    "jshint": "~2.9.1",
                    "gulp-jshint": "~2.0.0"
                  }
                }
              </pre>
            </section>

            <section>
              <h6>package.json continued...</h6>
              <h2 class="seperator">Getting your node.js packages</h2>
              <img src="lib/image/dc16/truck-trip.jpg" width="30%" />
              <pre>npm install</pre>
            </section>
          </section>

          <section>
            <section>
              <div class="seperator">
                <h2 class="inline">npm shrinkwrap</h2>
                <p class="inline small"> - Locking things down.</p>
              </div>
              <img src="lib/image/dc16/lock.jpg" width="30%" />
            </section>

            <section>
              <h6>npm shrinkwrap continued...</h6>
              <h2 class="seperator">What is npm shrinkwrap?</h2>
              <ul>
                <li>Creates a locked file of node modules and their dependencies for the exact versions you are using</li>
                <li>Ships with node.js</li>
                <li>Creates a npm-shrinkwrap.json file</li>
                <li class="tip">Use â€“dev flag to include devDependencies</li>
              </ul>
              <pre>npm shrinkwrap</pre>
            </section>
          </section>

          <section>
              <h2 class="seperator">I'm hungry, where's my omelet?</h2>
              <div class="small">
                <p>To review, we have installed node.js.</p>
                <p>We have decided what tools we will need to create our omelet in our package.json file:</p>
                <img src="lib/image/dc16/kitchen-tools.jpg" width="12%" />
                <ul>
                  <li>Frying pan -> node-sass</li>
                  <li>Spatula -> gulp-autoprefixer</li>
                  <li>Wisk -> sass-glob</li>
                  <li>and more...</li>
                </ul>
                <p>We have ran npm install, to get all of our tools.</p>
                <p>We have ran shinkwrap to lock down exactly what tools we are using, i.e. Our fying pan is a Gotham Steel 9.5-in. Nonstick Titanium and Ceramic Frypan by Daniel Green, Brown. This created our npm-shrinkwrap.json file. </p>
              </div>
            </section>
          </section>

          <section>
            <section>
              <div class="seperator">
                <h2 class="inline">Bower</h2>
                <p class="inline small"> - The grocery store</p>
              </div>
              <img src="lib/image/dc16/grocery-store.jpg" width="60%" />
            </section>

            <section>
              <h6>Bower continued...</h6>
              <h2 class="seperator">What is Bower?</h2>
              <ul>
                <li>It is a node.js module</li>
                <li>Package manager for components that contain HTML, CSS, JavaScript, fonts or image files.</li>
                <li>Downloads and installs packages from a variety of types of endpoints</li>
                <li>Bower can be installed by running<pre>npm install bower â€“-global</pre></li>
                <li><a href="https://bower.io/">https://bower.io/</a>
              </ul>
            </section>
          </section>

          <section>
            <section>
              <div class="seperator">
                <h2 class="inline">bower.json</h2>
                <p class="inline small"> - A shopping list of ingrdients</p>
              </div>
              <img src="lib/image/dc16/shopping-list.jpg" width="60%" />
            </section>

            <section>
              <h6>bower.json continued...</h6>
              <h2 class="seperator">What should I get at the store?</h2>
              <p>Everyone likes their omelet different.<br/>Here are some suggestions:</p>
              <ul>
                <li>Frameworks: Bootstrap, Foundation</li>
                <li>JS libraries: jquery, waypoints, animate</li>
                <li>Fonts: font awesome, iconic</li>
                <li>Plus many more</li>
              </ul>
            </section>

            <section>
              <h6>bower.json continued...</h6>
              <h2 class="seperator">Example of a bower.json file.</h2>
              <pre>
                {
                  "name": "subtheme_radix",
                  "description": "A theme based on Radix.",
                  "private": true,
                  "ignore": [
                    "**/.*",
                    "bower_components",
                    "includes",
                    "kits",
                    "node_modules",
                    "templates",
                    "*.json",
                    "*.js",
                    "*.png",
                    "*.inc",
                    "*.info",
                    "*.md",
                    "*.php"
                  ],
                  "dependencies": {
                    "bootstrap-sass": "~3.3.6",
                    "font-awesome": "fontawesome#~4.6.3",
                    "waypoints": "~4.0.0"
                  }
                }
              </pre>
            </section>

            <section>
              <h6>bower.json continued...</h6>
              <h2 class="seperator">Getting your Bower components</h2>
              <img src="lib/image/dc16/omelet-ing.jpeg" width="60%" />
              <pre>bower install</pre>
            </section>
          </section>

          <section>
            <section>
              <div class="seperator">
                <h2 class="inline">Gulp.js</h2>
                <p class="inline small"> - Get ready to start cooking.</p>
              </div>
              <img src="lib/image/dc16/cooking.jpg" width="60%" />
            </section>

            <section>
              <h6>gulp.js continued...</h6>
              <h2 class="seperator">What is Gulp.js?</h2>
              <ul>
                <li>Task automation tool</li>
                <li>Very simple API</li>
                <li>Automates tasks such as sass compiling, image optimztion, linting and more</li>
                <li><a href="http://gulpjs.com/">http://gulpjs.com/</a>
              </ul>
            </section>

            <section>
              <h6>gulp.js continued...</h6>
              <h2 class="seperator">Gulp.js API</h2>
              <ul>
                <li>gulp.src: Source of the assets you want to work with</li>
                <li>gulp.dest: file creation/location of files to create</li>
                <li>gulp.task: Operations you want to perform</li>
                <li>gulp.watch: Folders you would like to watch for file changes</li>
                <li>.pipe: Allows you to chain along differnt tasks</li>
                <li><a href="https://github.com/gulpjs/gulp/blob/master/docs/API.md">https://github.com/gulpjs/gulp/blob/master/docs/API.md</a></li>
              </ul>
            </section>

            <section>
              <h6>gulp.json continued...</h6>
              <h2 class="seperator">config.json</h2>
              <ul>
                <li>json file that tpically contains file names, source and destination paths as well as includePaths</li>
                <li>May contain variables or anything else you may want to access from your gulp tasks</li>
              </ul>
            </section>

            <section>
              <h6>gulp.json continued...</h6>
              <h2 class="seperator">Example of a config.json file.</h2>
              <pre>
                {
                  "name": "subtheme_radix",
                  "description": "A theme based on Radix.",
                  "bowerDir": "./bower_components",
                  "css": {
                    "file" : "subtheme_radix.style.scss",
                    "src": [
                      "scss/**/*.scss"
                    ],
                    "dest": "assets/css",
                    "includePaths": [
                      "./bower_components/bootstrap-sass/assets/stylesheets",
                      "./bower_components/font-awesome/scss"
                    ]
                  },
                  "js": {
                    "file" : "subtheme_radix.script.js",
                    "src": [
                      "assets/js/**/*.js"
                    ],
                    "dest": "assets/js"
                  },
                  "images": {
                    "src": [
                      "assets/images/**/*"
                    ],
                    "dest": "assets/images/"
                  },
                  "fonts": {
                    "src": [
                      "./bower_components/font-awesome/fonts/**.*"
                    ],
                    "dest": "./assets/fonts/"
                  }
                }
              </pre>
            </section>
          </section>

          <section>
            <section>
              <div class="seperator">
                <h2 class="inline">gulpfile.js</h2>
                <p class="inline small"> - Your sous-chef.</p>
              </div>
              <img src="lib/image/dc16/sous-chef.jpg" width="60%" />
            </section>

            <section>
              <h6>gulpfile.js continued...</h6>
              <h2 class="seperator">What is gulpfile.js?</h2>
              <ul>
                <li>File that contains the automation tasks to be ran</li>
                <li>Define workflow steps using the gulp.js API</li>
                <li>Build tasks to perform a multitude of action steps</li>
              </ul>
            </section>

            <section>
              <h6>gulpfile.js continued...</h6>
              <h2 class="seperator">Example of a gulp.js file.</h2>
              <pre>
                // Include gulp.
                var gulp = require('gulp');
                var config = require('./config.json');

                // Include plugins.
                var shrinkwrap = require('gulp-shrinkwrap');
                var sass = require('gulp-sass');
                var imagemin = require('gulp-imagemin');
                var pngcrush = require('imagemin-pngcrush');
                var shell = require('gulp-shell');
                var plumber = require('gulp-plumber');
                var notify = require('gulp-notify');
                var autoprefixer = require('gulp-autoprefixer');
                var glob = require('gulp-sass-glob');
                var uglify = require('gulp-uglify');
                var concat = require('gulp-concat');
                var rename = require('gulp-rename');
                var sourcemaps = require('gulp-sourcemaps');

                // CSS.
                gulp.task('css', function() {
                  return gulp.src(config.css.src)
                    .pipe(glob())
                    .pipe(plumber({
                      errorHandler: function (error) {
                        notify.onError({
                          title:    "Gulp",
                          subtitle: "Failure!",
                          message:  "Error: <%= error.message %>",
                          sound:    "Beep"
                        }) (error);
                        this.emit('end');
                      }}))
                    .pipe(sourcemaps.init())
                    .pipe(sass({
                      style: 'compressed',
                      errLogToConsole: true,
                      includePaths: config.css.includePaths
                    }))
                    .pipe(autoprefixer(['last 2 versions', '> 1%', 'ie 9', 'ie 10']))
                    .pipe(sourcemaps.write('./'))
                    .pipe(gulp.dest(config.css.dest));
                });

                // Shrinkwrap
                gulp.task('shrinkwrap', function () {
                  return gulp.src('package.json')
                    .pipe(shrinkwrap({dev: true}))                               // just like running `npm shrinkwrap`
                    .pipe(gulp.dest('./'));
                });

                // Waypoints.
                gulp.task('copywaypoints', function() {
                   gulp.src('./bower_components/waypoints/lib/jquery.waypoints.js')
                   .pipe(gulp.dest('./assets/js/waypoints'));
                });

                // JS
                gulp.task('js', function() {
                  return gulp.src(config.js.src)
                    .pipe(sourcemaps.init())
                    .pipe(concat(config.js.file))
                    .pipe(plumber({
                      errorHandler: function (error) {
                        notify.onError({
                          title:    "JS",
                          subtitle: "Failure!",
                          message:  "Error: <%= error.message %>",
                          sound:    "Beep"
                        }) (error);
                        this.emit('end');
                      }}))
                    .pipe(uglify())
                    .pipe(sourcemaps.write('./'))
                    .pipe(gulp.dest(config.js.dest));
                });

                // Compress images.
                gulp.task('images', function () {
                  return gulp.src(config.images.src)
                    .pipe(imagemin({
                      progressive: true,
                      svgoPlugins: [{ removeViewBox: false }],
                      use: [pngcrush()]
                    }))
                    .pipe(gulp.dest(config.images.dest));
                });

                // Fonts.
                gulp.task('fonts', function() {
                  return gulp.src(config.fonts.src)
                    .pipe(gulp.dest(config.fonts.dest));
                });

                // Static Server + Watch
                gulp.task('serve', ['css', 'js', 'fonts', 'copywaypoints', 'shrinkwrap'], function() {
                  gulp.watch(config.js.src, ['js']);
                  gulp.watch(config.css.src, ['css']);
                  gulp.watch(config.images.src, ['images']);
                });

                // Run drush to clear the theme registry.
                gulp.task('drush', shell.task([
                  'drush cache-clear theme-registry'
                ]));

                // Default Task
                gulp.task('default', ['serve']);
              </pre>
            </section>

            <section>
              <h6>gulpfile.js continued...</h6>
              <h2 class="seperator">Lets make your omelet</h2>
              <img src="lib/image/dc16/omelet.jpg" width="60%" />
              <pre>gulp</pre>
            </section>
          </section>

          <section>
            <h2 class="seperator">Quick review</h2>
            <ol>
              <li>Installed node.js</li>
              <li>Made our list of kitchen hardware: package.json</li>
              <li>Picked up our kitchen hardware: npm install</li>
              <li>Documented exactly what hardware we used: npm shrinkwrap --dev</li>
              <li>Made our list of omelet ingredients: bower.json</li>
              <li>Defined a list useful list of gulp variables: config.json</li>
              <li>Created a recipe: gulpfile.js</li>
              <li>Made our delicious omelet: gulp</li>
            </ol>
          </section>

          <section>
            <h2 class="seperator">Pro Tips</h2>
            <ul>
              <li>Steal: use other peoples projects as a starting point</li>
              <li>Contrib: give back to the community</li>
                <ul>
                  <li>File issues</li>
                  <li>Crate modules, packages or code repos</li>
                </ul>
              <li><a href="https://github.com/ITS-UofIowa/Radix-Starter-Kit">https://github.com/ITS-UofIowa/Radix-Starter-Kit</a></li>
            </ul>
          </section>

          <section>
              <h1>Thank you</h1>
              <ul>
                <li>Drupalcorn attendees, sponsors and planners</li>
                <li>Drupal community</li>
                <li>My team of developers: Brandon Neil, Johnson, Genevieve Johnson, Joe Whitsitt, Rick Porter, Brian Dickey, Mark Ahrens and Romy Bolton</li>
              </ul>
          </section>

          <section>
              <h1>Questions</h1>
          </section>

			</div>

		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>

			// Full list of configuration options available at:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				transition: 'slide', // none/fade/slide/convex/concave/zoom

				// Optional reveal.js plugins
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, condition: function() { return !!document.querySelector( 'pre code' ); }, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true },
					{ src: 'plugin/notes/notes.js', async: true }
				]
			});

		</script>

	</body>
</html>
